    <script>
      $(document).ready(function(){
        $("#modal").hide();
        $("#tweet").submit(function(e){
          $("#modal").show();
          var postData = $(this).serializeArray();
          var formURL = $(this).attr("action");
          $.ajax(
            {
              url : formURL,
              type: "POST",
              data : postData,
              success:function(result)
              {
                $("#results").html(result);
                $("#modal").hide();
                  //debugger
                  //data: return data from server
              },
                error: function(jqXHR, textStatus, errorThrown)
                {
                    //debugger
                      //if fails
                }
            });
            e.preventDefault(); //STOP default action
            e.unbind(); //unbind. to stop multiple form submit.
        });
      });

    </script>

<div class="container">
  <form id="tweet" action="/tweets/submit" method="post">
    <textarea type='text' rows="4" cols="30" name="body"></textarea>
    <button type="submit" name="tweet" value="tweet">tweet</button>
  </form>


  <div id="modal">
    <img id="loader" src="ajax-loader.gif"/> loading
  </div>

  <div id="results"></div>

  <a href='/login'><button>login</button></a>

</div>










